---
import DefaultLayout from '$/layouts/Default.astro';
import BannerCarousel from '$/components/BannerCarousel.svelte';
import CategoryList from '$/components/CategoryList.astro';
import ProductGrid from '$/components/ProductGrid.astro';
import { getCollection } from 'astro:content';

// 获取前10个产品
const allProducts = await getCollection('product');
const products = allProducts.slice(0, 10);
---

<DefaultLayout>
  <div class="container mx-auto px-4 py-8">
    <BannerCarousel client:load />
    <CategoryList />
    <ProductGrid {products} title="Featured Products" />
  </div>
</DefaultLayout>
